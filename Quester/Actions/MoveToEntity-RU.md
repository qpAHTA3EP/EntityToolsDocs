# **MoveToEntity**
Команда предназначена для патрулирования по *HotSpots* и поиска заданного *Entity*.
## Краткое описание алгоритма команды
1. Бот перемещается между точками *HotSpots* производя поиск ближайшего *Entity*, удовлетворяющего критериям поиска. <br/>
   - Патрулирование может производиться в режиме игнорирования боя [*IgnoreCombat*](#ref-IgnoreCombat).<br/>
   - Область поиска *Entity* может быть ограничена опцией [*CustomRegions*](#ref-CustomRegions).
1. Когда целевое *Entity* найдено, бот следует к нему по кратчайшему пути.
   - Целевое *Entity* может быть принудительно атаковано, если установлен флаг [*AttackTargetEntity*](#ref-AttackTargetEntity). При этом игнорируется список *Blacklist* выполняемого quester-профиля.
1. После исчезновения (уничтожения) всех *Entity*, удовлетворяющих критериям поиска, бот возобновляет патрулирование. 

# **Настройки команды**
## **Настройки идентификации *Entity***
Искомое *Entity* задается комбинацией свойств ***EntityID***, ***EntityIdType***, ***EntityNameType***, которые подробно описаны в разделе [Идентификация *Entity*](../../General/EntityIdentification-RU.md)


## **Дополнительные фильтры *Entity* (категория "Optional")**

- <a name ="ref-ReactionRange"></a>***ReactionRange*** - Расстояние от персонажа, в пределах которого производится поиск *Entity*. <br/>
При установке значения ``0``, опция отключается и поиск производится среди всех видимых боту *Entity*.
- <a name ="ref-ReactionZRange"></a>***ReactionZRange*** - Максимальная разница по высоте (ZAxis), в пределах которой производится поиск *Entity*. <br/>
При установке значения ``0``, опция отключается и поиск производится среди всех видимых боту *Entity*.
- <a name ="ref-RegionCheck"></a>***RegionCheck*** - Флаг, активирующий дополнительную проверку внутриигрового региона (не то же самое, что *CustomRegion*), в котором находится *Entity*:
  + *True* : Поиск *Entity* производится в том же регионе, в котором находится персонаж;
  + *False* : Проверка региона при поиске *Entity* не производится;
- <a name ="ref-HealthCheck"></a>***HealthCheck*** - дополнительная проверка уровня здоровья *Entity* (HP):;
  + *True* : Игнорируются *Entity* с нулевым количеством очков здоровья (HP) либо, имеющие флаг *IsDead*;
  + *False* : Здоровье *Entity* (HP) не проверяется;
- <a name ="ref-HoldTargetEntity"></a>***HoldTargetEntity*** - Флаг удержания *Entity*
   + *True* : Бот продолжает следовать к ранее найденному *Entity*, даже в том случае, если будет обнаружено *Entity* поближе;
   + *False* : Бот постоянно производит поиск и следует к ближайшему *Entity*.
- <a name ="ref-CustomRegions"></a>***CustomRegions*** - Набор *CustomRegion*'ов, задающих область поиска *Entity*. Подробное описание приведено в разделе [CustorRegionSet](../../General/CustorRegionSet-RU.md).

## **Опции, модифицирующие поведение (категория "Interruptions")**
### **Управление боем**
- <a name ="ref-IgnoreCombat"></a>***IgnoreCombat*** - Флаг, предписывающий активировать режим игнорирования боя ***IgnoreCombat*** при следовании к целевой *Entity*.
- <a name ="ref-Distance"></a>***Distance*** - Расстояние до целевой *Entity*, которого нужно достугнуть персонажу для активации боя. <br/>
При установке значения более ``5`` на [Mapper](../../Patches/Mapper/Mapper-RU.md) соответвующая область отображается окружностью, центром которой является соответствующая *Entity*.
- <a name ="ref-AbortCombatDistance"></a>***AbortCombatDistance*** - Расстояние от *Entity* за пределами которого бой принудительно прерывается. <br/>
Бой снова активируются на расстоянии [*Distance*](#ref-Distance) от целевой *Entity*. Опция деативируется если задано значением меньше [*Distance*](#ref-Distance) или флаг [*IgnoreCombat*](#ref-IgnoreCombat) не установлен;
- <a name ="ref-AttackTargetEntity"></a> ***AttackTargetEntity*** - Флаг, предписывающий атаковать целевую *Entity*. <br/>
Опция игнорируется, если флаг [*IgnoreCombat*](#ref-IgnoreCombat) не установлен.

### **Прерывание команды**
- <a name ="ref-StopOnApproached"></a>***StopOnApproached*** - Флаг, завершающий выполнение команды после того как персонаж приблизился к целевой *Entity* на расстояние [*Distance*](#ref-Distance).

## **Прочие опции**
- <a name ="ref-ResetCurrentHotSpot"></a>***ResetCurrentHotSpot*** - Флаг, сбрасывающий *HotSpot* к которому должен двигаться персонаж после исчезновения целевой *Entity*.

## [Вернуться к содержанию](../../index.md)