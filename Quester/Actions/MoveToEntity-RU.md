# **MoveToEntity**
Команда предназначена для патрулирования по *HotSpots* и поиска заданного *Entity*.
## Краткое описание алгоритма команды
1. Бот перемещается между точками *HotSpots* производя поиск ближайшего *Entity*, удовлетворяющего критериям поиска. 
   - Патрулирование может производиться в режиме игнорирования боя [*IgnoreCombat*](refIgnoreCombat).
   - Область поиска *Entity* может быть ограничена опцией [*CustomRegions*](refCustomRegions).
1. Когда целевое *Entity* найдено, бот следует к нему по кратчайшему пути.
   - Целевое *Entity* может быть принудительно атаковано, если установлен флаг [*AttackTargetEntity*](#refAttackTargetEntity). При этом игнорируется список *Blacklist* выполняемого quester-профиля.
1. После исчезновения (уничтожения) всех *Entity*, удовлетворяющих критериям поиска, бот возобновляет патрулирование. 

# **Настройки команды**
## **Настройки идентификации *Entity***
Искомое *Entity* задается комбинацией свойств ***EntityID***, ***EntityIdType***, ***EntityNameType***, которые подробно описаны в разделе [Идентификация *Entity*](../../General/EntityIdentification-RU.md)


## **Дополнительные фильтры *Entity* (категория "Optional")**

- ***ReactionRange*** - Расстояние от персонажа, в пределах которого производится поиск *Entity*. При установке значения равным 0, опция отключается и поиск производится среди всех видимых боту *Entity*.
- ***ReactionZRange*** - Максимальная разница по высоте (ZAxis), в пределах которой производится поиск *Entity*. При установке значения равным 0, опция отключается и поиск производится среди всех видимых боту *Entity*.
- ***RegionCheck*** - Флаг, активирующий дополнительную проверку внутриигрового региона (не то же самое, что *CustomRegion*), в котором находится *Entity*:
  + *True* : Поиск *Entity* производится в том же регионе, в котором находится персонаж;
  + *False* : Проверка региона при поиске *Entity* не производится;
- ***HealthCheck*** - дополнительная проверка уровня здоровья *Entity*:;
  + *True* : Игнорируются *Entity* с нулевым количеством очков здоровья (HP) либо, имеющие флаг *IsDead*;
  + *False* : Здоровье *Entity* не проверяется;
- ***HoldTargetEntity*** - Флаг удержания *Entity*
   + *True* : Бот продолжает следовать к найденному *Entity*, даже в том случае, если будет найдено *Entity* ближе;
   + *False* : Бот постоянно производит поиск и следует к ближайшему *Entity*.
- <a name ="refCustomRegions"></a>***CustomRegions*** - Набор *CustomRegion*'ов, задающих область поиска *Entity*. Подробное описание приведено в разделе [CustorRegionSet](../../General/CustorRegionSet-RU.md).

## **Опции, модифицирующие поведение (категория "Interruptions")**
### **Управление боем**
- <a name ="refIgnoreCombat"></a>***IgnoreCombat*** - Флаг, предписывающий активировать режим игнорирования боя ***IgnoreCombat*** при следовании к целевой *Entity*.
- ***Distance*** - Расстояние до целевой *Entity*, которого нужно достугнуть персонажу для активации боя. При установке значения более 5 на [Mapper](../../Patches/Mapper/Mapper-RU.md) соответвующая область отображается окружностью, центром которой является соответствующая *Entity*.
- ***AbortCombatDistance*** - Расстояние от *Entity* за пределами которого бой принудительно прерывается. Бой снова активируются на расстоянии ***Distance*** от целевой *Entity*. Опция деативируется если задано значением меньше ***Distance*** или флаг ***IgnoreCombat*** не установлен;
- <a name ="refAttackTargetEntity"></a> ***AttackTargetEntity*** - Флаг, предписывающий атаковать целевую *Entity*. Опция игнорируется, если флаг ***IgnoreCombat*** не установлен.
### **Прерывание команды**
- ***StopOnApproached*** - Флаг, завершающий выполнение команды после того как персонаж приблизился к целевой *Entity* на расстояние ***Distance***.

## **Прочие опции**
- ***ResetCurrentHotSpot*** - Флаг, сбрасывающий *HotSpot* к которому должен двигаться персонаж после исчезновения целевой *Entity*.
